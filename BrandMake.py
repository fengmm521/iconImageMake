#-*- coding: utf-8 -*-from PIL import Imageimport osimport sysimport subprocessreload(sys)#sys.setdefaultencoding('utf8')#你的icon大图片svn所在目录svnIconPath = '/Users/users/Documents/clcs/graph/05.图标/icon'svnIconBigFile = './1024.png'game4IosDir = '../outicon/ios'game4AndroidDir = '../outicon/android'# 'LaunchImage-320x480'iosSize = {"LaunchImage-320x480":[320,480],"LaunchImage-320x480@2x":[640,960],"LaunchImage-640x1136":[640,1136],"LaunchImage-750x1334":[750,1334],"LaunchImage-768x1024":[768,1024],"LaunchImage-768x1024@2x":[1536,2048],"LaunchImage-1024x768":[1024,768],"LaunchImage-1024x768@2x":[2048,1536],"LaunchImage-1242x2208":[1242,2208],"LaunchImage-2208x1242":[2208,1242]}def convertjpg(jpgfile):    #ios    img=Image.open(jpgfile)    w,h = img.size    limg = None    pimg = None    if w >= h :        limg = img        pimg = img.transpose(Image.ROTATE_270) #img.rotate(270) #逆时针旋转270    else:        limg = img.transpose(Image.ROTATE_90)#img.rotate(90) #逆时针旋转270        pimg = img    for k in iosSize.keys():        tmpsize = iosSize[k]        if tmpsize[0] <= tmpsize[1]:#竖图            new_img=pimg.resize((tmpsize[0],tmpsize[1]),Image.ANTIALIAS)            outname = game4IosDir + os.sep + k +'.png'            new_img.save(outname)        else:#横图            new_img=limg.resize((tmpsize[0],tmpsize[1]),Image.ANTIALIAS)            outname = game4IosDir + os.sep + k +'.png'            new_img.save(outname)#生成cpp的protobuf文件def createIconFromBigImage(iconpth):    convertjpg(iconpth)    #主方法def main(iconpth):    #svnUpDateIcon(svnIconPath)    print 'create icon....'    createIconFromBigImage(iconpth)    print 'create icon end:'    print game4IosDir    print game4AndroidDirif __name__ == '__main__':    args = sys.argv    iconpth = svnIconBigFile    if len(args) == 2 :        if os.path.exists(args[1]):            iconpth = args[1]        else:            print "目录图片不存在:%s"%(args[1])    print "使iocn图片:%s"%(iconpth)    main(iconpth)