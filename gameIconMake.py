#-*- coding: utf-8 -*-from PIL import Imageimport osimport sysimport subprocessreload(sys)#sys.setdefaultencoding('utf8')svnIconPath = '/Users/junmengkeji3/Documents/clcs/graph/05.图标/icon'svnIconBigFile = '/Users/woodcol/Documents/out_work/play/trunk/client/project_can_used_UIRes/icon.png'game4IosDir = '/Users/woodcol/Documents/out_work/play/project/fight2/proj.ios_mac/ios'game4AndroidDir = '/Users/woodcol/Documents/out_work/play/project/fight2/proj.android/res'iosSize = [29,40,50,57,58,72,76,80,100,114,120,144,152]androidSize = [36,48,72,96]androidNameDic = {96:'drawable-xhdpi',48:'drawable-mdpi',36:'drawable-ldpi',72:'drawable-hdpi'}def convertjpg(jpgfile):    #ios    img=Image.open(jpgfile)    for si in iosSize:        new_img=img.resize((si,si),Image.ANTIALIAS)        outname = game4IosDir + os.sep +'Icon-' + str(si)+'.png'        new_img.save(outname)    #android    for si in androidSize:        img=Image.open(jpgfile)        new_img=img.resize((si,si),Image.ANTIALIAS)        outname = game4AndroidDir + os.sep + androidNameDic[si]+ os.sep + 'icon.png'        new_img.save(outname)#生成cpp的protobuf文件def createIconFromBigImage():    convertjpg(svnIconBigFile)    def svnUpDateIcon(pathx):    cmd = 'cd ' + pathx + '\n'    cmd += 'pwd\n'    cmd += 'svn up'    print 'in run icon svn update cmd:\n'    p = subprocess.Popen(cmd, shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)    outlog = ''    for line in p.stdout.readlines():        outlog += line    print outlog    #主方法def main():    #svnUpDateIcon(svnIconPath)    print 'create icon....'    createIconFromBigImage()    print 'create icon end:'    print game4IosDir    print game4AndroidDirif __name__ == '__main__':    main()